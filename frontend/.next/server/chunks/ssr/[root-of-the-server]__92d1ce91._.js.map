{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/FYP/Fyp/fyp/lib/auth.js"],"sourcesContent":["export const setToken = (token) => {\r\n  localStorage.setItem(\"token\", token);\r\n};\r\n\r\nexport const getToken = () => {\r\n  return localStorage.getItem(\"token\");\r\n};\r\n\r\nexport const removeToken = () => {\r\n  localStorage.removeItem(\"token\");\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  return !!getToken();\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,WAAW,CAAC;IACvB,aAAa,OAAO,CAAC,SAAS;AAChC;AAEO,MAAM,WAAW;IACtB,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,MAAM,cAAc;IACzB,aAAa,UAAU,CAAC;AAC1B;AAEO,MAAM,aAAa;IACxB,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///D:/FYP/Fyp/fyp/components/LoggedInNavbar.js"],"sourcesContent":["import { useRouter } from \"next/router\";\r\nimport { removeToken } from \"../lib/auth\";\r\n\r\nexport default function LoggedInNavbar() {\r\n  const router = useRouter();\r\n\r\n  const logout = () => {\r\n    removeToken();\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"navbar-left\">\r\n        <h1 className=\"logo\">AI Document Guide</h1>\r\n      </div>\r\n      <div className=\"navbar-right\">\r\n        <a href=\"/dashboard\" className=\"nav-link\">Dashboard</a>\r\n        <a href=\"/chat\" className=\"nav-link\">Chat</a>\r\n        <button onClick={logout} className=\"btn-logout\">Logout</button>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .navbar {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 1rem 2rem;\r\n          background: #171717;\r\n          color: white;\r\n        }\r\n        .logo {\r\n          font-size: 1.5rem;\r\n          font-weight: bold;\r\n        }\r\n        .navbar-right {\r\n          display: flex;\r\n          gap: 1rem;\r\n          align-items: center;\r\n        }\r\n        .nav-link {\r\n          background: #0070f3;\r\n          padding: 0.5rem 1rem;\r\n          border-radius: 5px;\r\n          color: white;\r\n          text-decoration: none;\r\n          transition: background 0.2s;\r\n        }\r\n        .nav-link:hover {\r\n          background: #0059c1;\r\n        }\r\n        .btn-logout {\r\n          background: #dc2626;\r\n          padding: 0.5rem 1rem;\r\n          border-radius: 5px;\r\n          border: none;\r\n          cursor: pointer;\r\n          color: white;\r\n          transition: background 0.2s;\r\n        }\r\n        .btn-logout:hover {\r\n          background: #b91c1c;\r\n        }\r\n      `}</style>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,2IAAS;IAExB,MAAM,SAAS;QACb,IAAA,0HAAW;QACX,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,qKAAC;kDAAc;;0BACb,qKAAC;0DAAc;0BACb,cAAA,qKAAC;8DAAa;8BAAO;;;;;;;;;;;0BAEvB,qKAAC;0DAAc;;kCACb,qKAAC;wBAAE,MAAK;kEAAuB;kCAAW;;;;;;kCAC1C,qKAAC;wBAAE,MAAK;kEAAkB;kCAAW;;;;;;kCACrC,qKAAC;wBAAO,SAAS;kEAAkB;kCAAa;;;;;;;;;;;;;;;;;;;;;;AA+CxD","debugId":null}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///D:/FYP/Fyp/fyp/pages/chat.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport LoggedInNavbar from \"../components/LoggedInNavbar\";\r\n\r\nexport default function Chat() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { role: \"user\", content: input };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n const res = await fetch(\"http://localhost:5000/api/ai/chat\", {\r\n  method: \"POST\",\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n  body: JSON.stringify({ message: userMessage.content }),\r\n});\r\n      const data = await res.json();\r\n      const aiMessage = { role: \"ai\", content: data.reply };\r\n      setMessages((prev) => [...prev, aiMessage]);\r\n    } catch (err) {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { role: \"ai\", content: \"⚠️ Error connecting to AI service.\" },\r\n      ]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") sendMessage();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoggedInNavbar />\r\n      <div className=\"chat-page\">\r\n        <div className=\"chat-container\">\r\n          <div className=\"chat-box\">\r\n            {messages.map((msg, idx) => (\r\n              <div\r\n                key={idx}\r\n                className={`message ${msg.role === \"user\" ? \"user\" : \"ai\"}`}\r\n              >\r\n                {msg.content}\r\n              </div>\r\n            ))}\r\n            {loading && <div className=\"message ai\">Typing...</div>}\r\n          </div>\r\n          <div className=\"input-box\">\r\n            <input\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              placeholder=\"Type your message...\"\r\n            />\r\n            <button onClick={sendMessage}>Send</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .chat-page {\r\n          display: flex;\r\n          justify-content: center;\r\n          padding: 2rem;\r\n          background: #f5f5f5;\r\n          min-height: 90vh;\r\n        }\r\n        .chat-container {\r\n          background: white;\r\n          border-radius: 12px;\r\n          box-shadow: 0 4px 15px rgba(0,0,0,0.1);\r\n          width: 600px;\r\n          display: flex;\r\n          flex-direction: column;\r\n          overflow: hidden;\r\n        }\r\n        .chat-box {\r\n          flex: 1;\r\n          padding: 1rem;\r\n          overflow-y: auto;\r\n        }\r\n        .message {\r\n          margin-bottom: 0.75rem;\r\n          padding: 0.75rem 1rem;\r\n          border-radius: 8px;\r\n          max-width: 70%;\r\n        }\r\n        .message.user {\r\n          background: #0070f3;\r\n          color: white;\r\n          margin-left: auto;\r\n        }\r\n        .message.ai {\r\n          background: #e5e7eb;\r\n          color: #333;\r\n          margin-right: auto;\r\n        }\r\n        .input-box {\r\n          display: flex;\r\n          border-top: 1px solid #ddd;\r\n        }\r\n        input {\r\n          flex: 1;\r\n          padding: 1rem;\r\n          border: none;\r\n          outline: none;\r\n          font-size: 1rem;\r\n        }\r\n        button {\r\n          padding: 1rem 1.5rem;\r\n          background: #0070f3;\r\n          color: white;\r\n          border: none;\r\n          cursor: pointer;\r\n          transition: background 0.2s;\r\n        }\r\n        button:hover {\r\n          background: #005bb5;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AACA;AACA;AAFA;;;;;AAIe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,cAAc;QAClB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,MAAM,cAAc;YAAE,MAAM;YAAQ,SAAS;QAAM;QACnD,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAY;QAC5C,SAAS;QACT,WAAW;QAEX,IAAI;YACP,MAAM,MAAM,MAAM,MAAM,qCAAqC;gBAC5D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS,YAAY,OAAO;gBAAC;YACtD;YACM,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,YAAY;gBAAE,MAAM;gBAAM,SAAS,KAAK,KAAK;YAAC;YACpD,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAU;QAC5C,EAAE,OAAO,KAAK;YACZ,YAAY,CAAC,OAAS;uBACjB;oBACH;wBAAE,MAAM;wBAAM,SAAS;oBAAqC;iBAC7D;QACH,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,EAAE,GAAG,KAAK,SAAS;IACzB;IAEA,qBACE;;0BACE,qKAAC,uIAAc;;;;;0BACf,qKAAC;0DAAc;0BACb,cAAA,qKAAC;8DAAc;;sCACb,qKAAC;sEAAc;;gCACZ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,qKAAC;kFAEY,CAAC,QAAQ,EAAE,IAAI,IAAI,KAAK,SAAS,SAAS,MAAM;kDAE1D,IAAI,OAAO;uCAHP;;;;;gCAMR,yBAAW,qKAAC;8EAAc;8CAAa;;;;;;;;;;;;sCAE1C,qKAAC;sEAAc;;8CACb,qKAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAW;oCACX,aAAY;;;;;;;8CAEd,qKAAC;oCAAO,SAAS;;8CAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoE1C","debugId":null}}]
}